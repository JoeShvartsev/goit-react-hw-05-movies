{"version":3,"file":"static/js/735.f9d8ef27.chunk.js","mappings":"2PAEMA,EAAU,mCACVC,EAAW,sCAEV,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAAuBC,GAAvB,gGAEoBC,EAAAA,EAAAA,IAAA,UAAaH,GAAb,OAAwBE,GAAM,CACnDE,QAAS,CACPC,cACE,6NACFC,OAAQ,oBAEVC,OAAQ,CACNC,QAAST,EACTU,SAAU,WAVX,cAEGC,EAFH,yBAeIA,EAASC,MAfb,gCAiBHC,QAAQC,MAAR,MAjBG,gF,YCJP,GAAgB,MAAQ,6B,SCMXC,EAAe,WAC1B,OAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAsCF,EAAAA,EAAAA,UAAS,IAA/C,eAAOG,EAAP,KAAoBC,EAApB,KAEQC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,GAAcC,EAAAA,EAAAA,SAAO,IAG3BC,EAAAA,EAAAA,YAAU,WACJF,EAAYG,SAAWL,EAASM,MAClCX,EAAeK,EAASM,OAExBX,EAAe,KAEjBO,EAAYG,SAAU,CACvB,GAAE,CAACL,EAASM,QAEb,IAAMC,GAAYC,EAAAA,EAAAA,cAAW,iBAAC,oGACT/B,EAAQmB,GADC,OACtBT,EADsB,OAE5BM,EAASN,GAFmB,2CAG3B,CAACS,KAEJQ,EAAAA,EAAAA,YAAU,WACRG,GACD,GAAE,CAACX,EAASW,IAKb,OACE,gCACGf,IACC,iBAAKiB,UAAWC,EAAAA,IAAhB,WACE,gBAAKD,UAAWC,EAAAA,IAAhB,UACE,mBAAQC,KAAK,SAASC,QARb,WACjBd,EAASJ,EACV,EAMS,oBAIF,4BACE,gBACEmB,IACErB,EAAMsB,YAAN,yCACsCtB,EAAMsB,aAnCxD,8EAsCUC,MAAO,IACPC,IAAI,YAEN,wBAAKxB,EAAMyB,SACX,wBAAKzB,EAAM0B,gBACX,wBAAK1B,EAAM2B,gBACX,iBAAKV,UAAWC,EAAAA,MAAhB,WACE,SAAC,KAAD,CAASU,GAAE,OAAUd,MAAON,EAA5B,mBAGA,SAAC,KAAD,CAASoB,GAAE,SAAYC,KAAMrB,EAA7B,+BAQR,SAAC,KAAD,MAGL,C","sources":["Api/FetchMovieDetails.js","webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = \"63a74474f933eda5b8cc066d3494dc04\";\nconst BASE_URL = \"https://api.themoviedb.org/3/movie/\";\n\nexport async function getByID(id) {\n  try {\n    const response = await axios.get(`${BASE_URL}${id}`, {\n      headers: {\n        Authorization:\n          \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2M2E3NDQ3NGY5MzNlZGE1YjhjYzA2NmQzNDk0ZGMwNCIsInN1YiI6IjY0ODZiMGMzYzAzNDhiMDExZmJkYzFlMCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.BkRWT5yob_WZgHbbPPNq-qgAcjbVt-Or65dfa93IL8Y\",\n        accept: \"application/json\",\n      },\n      params: {\n        api_key: API_KEY,\n        language: \"en-US\",\n      },\n    });\n\n    // console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}","// extracted by mini-css-extract-plugin\nexport default {\"links\":\"MovieDetails_links__EzCWB\"};","import React, { useState, useEffect, useRef } from 'react';\nimport { Outlet, useLocation, useNavigate, useParams } from 'react-router-dom';\nimport { getByID } from 'Api/FetchMovieDetails';\nimport { NavLink } from 'react-router-dom';\nimport css from './MovieDetails.module.css';\nimport { useCallback } from 'react';\n\nexport const MovieDetails = () => {\n  const [movie, setMovie] = useState([]);\n  const [navlocation, setNavLocation] = useState([]);\n\n  const { movieId } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const firstRender = useRef(true);\n  const defaultImg =\n    'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700';\n  useEffect(() => {\n    if (firstRender.current && location.state) {\n      setNavLocation(location.state);\n    } else {\n      setNavLocation('/');\n    }\n    firstRender.current = false;\n  }, [location.state]);\n\n  const fetchData = useCallback(async () => {\n    const data = await getByID(movieId);\n    setMovie(data);\n  }, [movieId]);\n\n  useEffect(() => {\n    fetchData();\n  }, [movieId, fetchData]);\n\n  const handleBack = () => {\n    navigate(navlocation);\n  };\n  return (\n    <>\n      {movie && (\n        <div className={css.div}>\n          <div className={css.btn}>\n            <button type=\"button\" onClick={handleBack}>\n              +==\n            </button>\n          </div>\n          <div>\n            <img\n              src={\n                movie.poster_path\n                  ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\n                  : defaultImg\n              }\n              width={250}\n              alt=\"poster\"\n            />\n            <h1>{movie.title}</h1>\n            <h2>{movie.release_date}</h2>\n            <h2>{movie.vote_average}</h2>\n            <div className={css.links}>\n              <NavLink to={`cast`} state={location}>\n                Cast\n              </NavLink>\n              <NavLink to={`review`} stat={location}>\n                Reviews\n              </NavLink>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <Outlet />\n    </>\n  );\n};\n"],"names":["API_KEY","BASE_URL","getByID","id","axios","headers","Authorization","accept","params","api_key","language","response","data","console","error","MovieDetails","useState","movie","setMovie","navlocation","setNavLocation","movieId","useParams","navigate","useNavigate","location","useLocation","firstRender","useRef","useEffect","current","state","fetchData","useCallback","className","css","type","onClick","src","poster_path","width","alt","title","release_date","vote_average","to","stat"],"sourceRoot":""}