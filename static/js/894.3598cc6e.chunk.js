"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[894],{894:function(e,r,a){a.r(r),a.d(r,{MoviesPage:function(){return S}});var t=a(861),c=a(439),n=a(757),s=a.n(n),o=a(791),u="SearchBar_searchbar__xBucJ",i="SearchBar_searchform__c8HbR",h="SearchBar_searchform-button__CSkGr",l="SearchBar_searchform-button-label__Vhlb8",f="SearchBar_searchform-input__nj5Fi",p=a(184),m=function(e){var r=e.onSubmit,a=e.setSearchParams,t=e.searchValue;return(0,p.jsx)("div",{className:u,children:(0,p.jsxs)("form",{className:i,onSubmit:r,children:[(0,p.jsx)("button",{type:"submit",className:h,children:(0,p.jsx)("span",{className:l,children:"Search"})}),(0,p.jsx)("input",{className:f,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie",onChange:function(e){var r=e.target.value;a({search:r})},value:t||""})]})})},d=a(689),v=a(87),b=function(e){var r=e.movies,a=(0,d.TH)();return(0,p.jsx)("div",{children:(0,p.jsx)("ul",{children:r.map((function(e){return(0,p.jsx)("li",{children:(0,p.jsx)(v.OL,{state:a,to:"/movies/".concat(e.id),children:e.title})},e.id)}))})})},x=a(243),_="63a74474f933eda5b8cc066d3494dc04",j="https://api.themoviedb.org/3/search/movie";function k(e){return N.apply(this,arguments)}function N(){return(N=(0,t.Z)(s().mark((function e(r){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.Z.get("".concat(j,"?query=").concat(r),{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2M2E3NDQ3NGY5MzNlZGE1YjhjYzA2NmQzNDk0ZGMwNCIsInN1YiI6IjY0ODZiMGMzYzAzNDhiMDExZmJkYzFlMCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.BkRWT5yob_WZgHbbPPNq-qgAcjbVt-Or65dfa93IL8Y",accept:"application/json"},params:{api_key:_,language:"en-US"}});case 3:return a=e.sent,console.log(a.data.results),e.abrupt("return",a.data.results);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var S=function(){var e=(0,o.useState)([]),r=(0,c.Z)(e,2),a=r[0],n=r[1],u=(0,v.lr)(),i=(0,c.Z)(u,2),h=i[0],l=i[1],f=h.get("search"),d=(0,o.useRef)(!0),x=(0,o.useCallback)((0,t.Z)(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=12;break}return e.prev=1,e.next=4,k(f);case 4:r=e.sent,n(r),h.set("search",""),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error fetching data:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),[h,f]);(0,o.useEffect)((function(){d.current&&f&&x(f),d.current=!1}),[x,f]);return(0,p.jsxs)("div",{children:[(0,p.jsx)(m,{onSubmit:function(e){e.preventDefault(),x()},setSearchParams:l,searchValue:f}),(0,p.jsx)(b,{movies:a})]})}}}]);
//# sourceMappingURL=894.3598cc6e.chunk.js.map